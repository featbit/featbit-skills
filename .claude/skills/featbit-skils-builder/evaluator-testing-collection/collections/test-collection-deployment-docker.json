{
  "collection_metadata": {
    "name": "FeatBit Docker Deployment Testing Collection",
    "version": "1.0.0",
    "created_date": "2026-01-30",
    "skill": "featbit-deployment-docker",
    "total_tests": 4,
    "description": "Evaluation tests for FeatBit Docker Compose deployment guidance"
  },
  "test_items": [
    {
      "id": "docker-deploy-001",
      "name": "docker-standalone-deployment-setup",
      "skill": "featbit-deployment-docker",
      "description": "Validates AI can provide complete standalone deployment docker-compose.yml configuration and setup instructions.",
      "complexity_level": "basic",
      "task_type": "text-comparison",
      "input_task_prompt": "I'm a solo developer and want to quickly deploy FeatBit locally for development and testing. What's the easiest way to get started with Docker? Show me the complete docker-compose.yml and steps.",
      "evaluation_prompt": {
        "expected_result": {
          "must_include": [
            "docker-compose.yml file content with all 6 services (ui, api-server, evaluation-server, da-server, postgresql, and possibly els-proxy)",
            "PostgreSQL service configuration (only database for Standalone)",
            "UI service with port 8081 exposed",
            "API service with port 5000 exposed",
            "Evaluation service with port 5100 exposed",
            "Data Analytics service",
            "Standalone tier explicitly mentioned or implied",
            "docker compose up command or equivalent"
          ],
          "should_include": [
            "Network configuration (featbit-network or similar)",
            "Volume persistence for PostgreSQL data",
            "Environment variable examples (EnvSecret, ConnectionString, etc.)",
            "Access URL http://localhost:8081",
            "Prerequisites mentioned (Docker version 20.10+)",
            "Step-by-step startup instructions"
          ],
          "must_not_include": [
            "Professional tier components (Kafka, ClickHouse)",
            "Kubernetes references",
            "Redis or MongoDB (Standard tier components)"
          ]
        },
        "evaluation_method": {
          "step_1": "Check if response contains docker-compose.yml content",
          "step_2": "Count services mentioned - should be 6 core services",
          "step_3": "Verify only PostgreSQL database (no Redis/MongoDB)",
          "step_4": "Check port mappings: 8081, 5000, 5100, 5432",
          "step_5": "Look for 'docker compose up' or 'docker-compose up' command",
          "step_6": "Verify Standalone tier characteristics (minimal infrastructure)"
        },
        "pass_criteria": [
          "All 8 'must_include' items are present",
          "docker-compose.yml structure is complete and valid",
          "Only PostgreSQL database (confirms Standalone tier)",
          "Correct port mappings for all services",
          "At least 4 'should_include' items present",
          "No Standard or Professional tier components"
        ],
        "fail_criteria": [
          "Missing any 'must_include' service",
          "Contains Redis, MongoDB, Kafka, or ClickHouse",
          "Wrong deployment tier recommended",
          "Incorrect or missing port mappings",
          "No docker-compose.yml content provided"
        ]
      },
      "prerequisites": [
        "Understanding of Docker Compose YAML structure",
        "Ability to read and validate YAML syntax"
      ],
      "expected_duration": "5-7 minutes",
      "tags": ["deployment", "docker", "standalone", "basic", "docker-compose"]
    },
    {
      "id": "docker-deploy-002",
      "name": "docker-deployment-tier-selection",
      "skill": "featbit-deployment-docker",
      "description": "Validates AI can provide contextually appropriate deployment tier recommendations based on user scenario.",
      "complexity_level": "intermediate",
      "task_type": "contextual-reasoning",
      "input_task_prompt": "We're a startup with 20 developers and about 5000 active users expected in the first 3 months. We plan to deploy FeatBit to production. Which deployment tier should we use and why?",
      "evaluation_prompt": {
        "expected_result": {
          "must_include": [
            "Standard tier recommendation",
            "Rationale based on team size and user count",
            "Comparison with other tiers",
            "Infrastructure components (PostgreSQL/MongoDB, Redis)",
            "Scalability considerations"
          ],
          "should_include": [
            "When to upgrade to Professional tier",
            "Resource requirements (RAM, CPU)",
            "Production readiness factors",
            "Cost-benefit analysis",
            "Migration path guidance"
          ],
          "must_not_include": [
            "Standalone recommendation for production",
            "Over-engineering with Professional tier",
            "Missing rationale for recommendation"
          ]
        },
        "evaluation_method": {
          "step_1": "Identify which tier is recommended",
          "step_2": "Check if rationale matches user context",
          "step_3": "Verify comparison includes all 3 tiers",
          "step_4": "Assess if scalability is discussed",
          "step_5": "Evaluate production-readiness considerations"
        },
        "pass_criteria": [
          "Standard tier explicitly recommended",
          "Rationale aligns with startup/medium-scale scenario",
          "All 3 tiers compared",
          "Infrastructure components explained",
          "At least 2 'should_include' items present"
        ],
        "fail_criteria": [
          "Wrong tier recommended (Standalone or Professional)",
          "No rationale provided",
          "Missing tier comparison",
          "Ignores user context"
        ]
      },
      "prerequisites": [
        "Understanding of deployment scenarios",
        "Production deployment context"
      ],
      "expected_duration": "4-5 minutes",
      "tags": ["deployment", "docker", "tier-selection", "contextual", "intermediate"]
    },
    {
      "id": "docker-deploy-003",
      "name": "docker-standard-tier-configuration",
      "skill": "featbit-deployment-docker",
      "description": "Validates AI can provide complete Standard tier docker-compose configuration text with Redis and MongoDB.",
      "complexity_level": "intermediate",
      "task_type": "text-comparison",
      "input_task_prompt": "I want to deploy FeatBit Standard tier with Redis for caching and MongoDB for analytics. Show me the complete docker-compose.yml configuration with all necessary environment variables.",
      "evaluation_prompt": {
        "expected_result": {
          "must_include": [
            "Redis service definition",
            "MongoDB service definition",
            "PostgreSQL service definition",
            "CacheProvider=Redis in environment",
            "MqProvider=Redis in environment",
            "MongoDB connection string",
            "Redis connection string",
            "All 6 core FeatBit services"
          ],
          "should_include": [
            "Volume persistence for databases",
            "Redis password configuration",
            "MongoDB authentication",
            "Health check configurations",
            "Network isolation"
          ],
          "must_not_include": [
            "Kafka service (Professional tier)",
            "ClickHouse service (Professional tier)",
            "CacheProvider=None (Standalone tier)"
          ]
        },
        "evaluation_method": {
          "step_1": "Check if Redis service is defined in docker-compose.yml",
          "step_2": "Check if MongoDB service is defined in docker-compose.yml",
          "step_3": "Look for CacheProvider=Redis in api-server environment",
          "step_4": "Look for MqProvider=Redis in api-server environment",
          "step_5": "Verify Redis connection string is mentioned",
          "step_6": "Verify MongoDB connection string is mentioned",
          "step_7": "Confirm no Kafka or ClickHouse services"
        },
        "pass_criteria": [
          "Redis service clearly defined with configuration",
          "MongoDB service clearly defined with configuration",
          "CacheProvider=Redis and MqProvider=Redis present",
          "Connection strings for Redis and MongoDB provided",
          "At least 3 'should_include' items present",
          "No Kafka or ClickHouse services present"
        ],
        "fail_criteria": [
          "Missing Redis or MongoDB",
          "Wrong CacheProvider or MqProvider",
          "Missing connection strings",
          "Contains Professional tier components",
          "Incomplete service configuration"
        ]
      },
      "prerequisites": [
        "Understanding of Docker Compose YAML structure",
        "Knowledge of Standard tier requirements (Redis + MongoDB)",
        "Familiarity with multi-container applications"
      ],
      "expected_duration": "6-8 minutes",
      "tags": ["deployment", "docker", "standard-tier", "redis", "mongodb", "intermediate"]
    },
    {
      "id": "docker-deploy-004",
      "name": "docker-troubleshooting-service-startup",
      "skill": "featbit-deployment-docker",
      "description": "Validates AI can help troubleshoot common Docker Compose deployment issues like service startup failures.",
      "complexity_level": "advanced",
      "task_type": "error-recovery-guidance",
      "input_task_prompt": "I ran 'docker compose up' but the api-server service keeps restarting. The logs show 'Failed to connect to PostgreSQL'. How do I troubleshoot and fix this?",
      "evaluation_prompt": {
        "expected_result": {
          "must_include": [
            "Check docker compose logs command",
            "Verify PostgreSQL connection string",
            "Check service dependencies (depends_on)",
            "Verify PostgreSQL service is running",
            "Network connectivity check",
            "Database initialization time consideration"
          ],
          "should_include": [
            "docker compose ps command",
            "Health check for PostgreSQL",
            "Adding startup delay or wait-for script",
            "Checking PostgreSQL container logs",
            "Connection string format validation",
            "Port mapping verification"
          ],
          "must_not_include": [
            "Ignoring the root cause",
            "Suggesting to restart without investigation",
            "Incomplete troubleshooting steps"
          ]
        },
        "evaluation_method": {
          "step_1": "Check if diagnostic commands are provided",
          "step_2": "Verify connection string validation mentioned",
          "step_3": "Assess if service dependency is discussed",
          "step_4": "Check if timing/startup order addressed",
          "step_5": "Evaluate completeness of solution"
        },
        "pass_criteria": [
          "Multiple diagnostic commands provided",
          "Connection string validation covered",
          "Service dependency explanation included",
          "Root cause identified (timing/configuration)",
          "At least 3 'should_include' items present",
          "Step-by-step troubleshooting approach"
        ],
        "fail_criteria": [
          "No diagnostic commands provided",
          "Missing connection string check",
          "Ignores service dependencies",
          "Solution doesn't address root cause",
          "Incomplete troubleshooting steps"
        ]
      },
      "prerequisites": [
        "Docker Compose deployment attempted",
        "Experiencing service startup issues",
        "Access to Docker logs"
      ],
      "expected_duration": "6-8 minutes",
      "tags": ["deployment", "docker", "troubleshooting", "error-recovery", "advanced"]
    }
  ],
  "statistics": {
    "by_complexity": {
      "basic": 1,
      "intermediate": 2,
      "advanced": 1
    },
    "by_task_type": {
      "text-comparison": 2,
      "contextual-reasoning": 1,
      "error-recovery-guidance": 1
    }
  }
}
